"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=function(t){return t&&t.Math==Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),e={},o=function(t){try{return!!t()}catch(t){return!0}},i=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),c=u,a=Function.prototype.call,f=c?a.bind(a):function(){return a.apply(a,arguments)},l={},s={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,y=p&&!s.call({1:2},1);l.f=y?function(t){var n=p(this,t);return!!n&&n.enumerable}:s;var h,g,b=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},d=u,v=Function.prototype,m=v.call,w=d&&v.bind.bind(m,m),S=d?w:function(t){return function(){return m.apply(t,arguments)}},O=S,j=O({}.toString),P=O("".slice),E=function(t){return P(j(t),8,-1)},T=o,I=E,x=Object,F=S("".split),M=T((function(){return!x("z").propertyIsEnumerable(0)}))?function(t){return"String"==I(t)?F(t,""):x(t)}:x,k=function(t){return null==t},A=k,D=TypeError,C=function(t){if(A(t))throw D("Can't call method on "+t);return t},L=M,_=C,N=function(t){return L(_(t))},$="object"==typeof document&&document.all,z={all:$,IS_HTMLDDA:void 0===$&&void 0!==$},R=z.all,H=z.IS_HTMLDDA?function(t){return"function"==typeof t||t===R}:function(t){return"function"==typeof t},W=H,G=z.all,B=z.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:W(t)||t===G}:function(t){return"object"==typeof t?null!==t:W(t)},U=r,V=H,q=function(t){return V(t)?t:void 0},J=function(t,n){return arguments.length<2?q(U[t]):U[t]&&U[t][n]},K=S({}.isPrototypeOf),X=r,Y=J("navigator","userAgent")||"",Q=X.process,Z=X.Deno,tt=Q&&Q.versions||Z&&Z.version,nt=tt&&tt.v8;nt&&(g=(h=nt.split("."))[0]>0&&h[0]<4?1:+(h[0]+h[1])),!g&&Y&&(!(h=Y.match(/Edge\/(\d+)/))||h[1]>=74)&&(h=Y.match(/Chrome\/(\d+)/))&&(g=+h[1]);var rt=g,et=o,ot=!!Object.getOwnPropertySymbols&&!et((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&rt&&rt<41})),it=ot&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ut=J,ct=H,at=K,ft=Object,lt=it?function(t){return"symbol"==typeof t}:function(t){var n=ut("Symbol");return ct(n)&&at(n.prototype,ft(t))},st=String,pt=H,yt=function(t){try{return st(t)}catch(t){return"Object"}},ht=TypeError,gt=function(t){if(pt(t))return t;throw ht(yt(t)+" is not a function")},bt=k,dt=f,vt=H,mt=B,wt=TypeError,St={},Ot={get exports(){return St},set exports(t){St=t}},jt=r,Pt=Object.defineProperty,Et=function(t,n){try{Pt(jt,t,{value:n,configurable:!0,writable:!0})}catch(r){jt[t]=n}return n},Tt=Et,It="__core-js_shared__",xt=r[It]||Tt(It,{}),Ft=xt;(Ot.exports=function(t,n){return Ft[t]||(Ft[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.27.0",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Mt=C,kt=Object,At=function(t){return kt(Mt(t))},Dt=At,Ct=S({}.hasOwnProperty),Lt=Object.hasOwn||function(t,n){return Ct(Dt(t),n)},_t=S,Nt=0,$t=Math.random(),zt=_t(1..toString),Rt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+zt(++Nt+$t,36)},Ht=r,Wt=Lt,Gt=Rt,Bt=ot,Ut=it,Vt=St("wks"),qt=Ht.Symbol,Jt=qt&&qt.for,Kt=Ut?qt:qt&&qt.withoutSetter||Gt,Xt=f,Yt=B,Qt=lt,Zt=function(t,n){var r=t[n];return bt(r)?void 0:gt(r)},tn=function(t,n){var r,e;if("string"===n&&vt(r=t.toString)&&!mt(e=dt(r,t)))return e;if(vt(r=t.valueOf)&&!mt(e=dt(r,t)))return e;if("string"!==n&&vt(r=t.toString)&&!mt(e=dt(r,t)))return e;throw wt("Can't convert object to primitive value")},nn=TypeError,rn=function(t){if(!Wt(Vt,t)||!Bt&&"string"!=typeof Vt[t]){var n="Symbol."+t;Bt&&Wt(qt,t)?Vt[t]=qt[t]:Vt[t]=Ut&&Jt?Jt(n):Kt(n)}return Vt[t]}("toPrimitive"),en=function(t,n){if(!Yt(t)||Qt(t))return t;var r,e=Zt(t,rn);if(e){if(void 0===n&&(n="default"),r=Xt(e,t,n),!Yt(r)||Qt(r))return r;throw nn("Can't convert object to primitive value")}return void 0===n&&(n="number"),tn(t,n)},on=lt,un=function(t){var n=en(t,"string");return on(n)?n:n+""},cn=B,an=r.document,fn=cn(an)&&cn(an.createElement),ln=function(t){return fn?an.createElement(t):{}},sn=!i&&!o((function(){return 7!=Object.defineProperty(ln("div"),"a",{get:function(){return 7}}).a})),pn=i,yn=f,hn=l,gn=b,bn=N,dn=un,vn=Lt,mn=sn,wn=Object.getOwnPropertyDescriptor;e.f=pn?wn:function(t,n){if(t=bn(t),n=dn(n),mn)try{return wn(t,n)}catch(t){}if(vn(t,n))return gn(!yn(hn.f,t,n),t[n])};var Sn={},On=i&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),jn=B,Pn=String,En=TypeError,Tn=function(t){if(jn(t))return t;throw En(Pn(t)+" is not an object")},In=i,xn=sn,Fn=On,Mn=Tn,kn=un,An=TypeError,Dn=Object.defineProperty,Cn=Object.getOwnPropertyDescriptor,Ln="enumerable",_n="configurable",Nn="writable";Sn.f=In?Fn?function(t,n,r){if(Mn(t),n=kn(n),Mn(r),"function"==typeof t&&"prototype"===n&&"value"in r&&Nn in r&&!r[Nn]){var e=Cn(t,n);e&&e[Nn]&&(t[n]=r.value,r={configurable:_n in r?r[_n]:e[_n],enumerable:Ln in r?r[Ln]:e[Ln],writable:!1})}return Dn(t,n,r)}:Dn:function(t,n,r){if(Mn(t),n=kn(n),Mn(r),xn)try{return Dn(t,n,r)}catch(t){}if("get"in r||"set"in r)throw An("Accessors not supported");return"value"in r&&(t[n]=r.value),t};var $n=Sn,zn=b,Rn=i?function(t,n,r){return $n.f(t,n,zn(1,r))}:function(t,n,r){return t[n]=r,t},Hn={},Wn={get exports(){return Hn},set exports(t){Hn=t}},Gn=i,Bn=Lt,Un=Function.prototype,Vn=Gn&&Object.getOwnPropertyDescriptor,qn=Bn(Un,"name"),Jn={EXISTS:qn,PROPER:qn&&"something"===function(){}.name,CONFIGURABLE:qn&&(!Gn||Gn&&Vn(Un,"name").configurable)},Kn=H,Xn=xt,Yn=S(Function.toString);Kn(Xn.inspectSource)||(Xn.inspectSource=function(t){return Yn(t)});var Qn,Zn,tr,nr=Xn.inspectSource,rr=H,er=r.WeakMap,or=rr(er)&&/native code/.test(String(er)),ir=Rt,ur=St("keys"),cr={},ar=or,fr=r,lr=B,sr=Rn,pr=Lt,yr=xt,hr=function(t){return ur[t]||(ur[t]=ir(t))},gr=cr,br="Object already initialized",dr=fr.TypeError,vr=fr.WeakMap;if(ar||yr.state){var mr=yr.state||(yr.state=new vr);mr.get=mr.get,mr.has=mr.has,mr.set=mr.set,Qn=function(t,n){if(mr.has(t))throw dr(br);return n.facade=t,mr.set(t,n),n},Zn=function(t){return mr.get(t)||{}},tr=function(t){return mr.has(t)}}else{var wr=hr("state");gr[wr]=!0,Qn=function(t,n){if(pr(t,wr))throw dr(br);return n.facade=t,sr(t,wr,n),n},Zn=function(t){return pr(t,wr)?t[wr]:{}},tr=function(t){return pr(t,wr)}}var Sr={set:Qn,get:Zn,has:tr,enforce:function(t){return tr(t)?Zn(t):Qn(t,{})},getterFor:function(t){return function(n){var r;if(!lr(n)||(r=Zn(n)).type!==t)throw dr("Incompatible receiver, "+t+" required");return r}}},Or=o,jr=H,Pr=Lt,Er=i,Tr=Jn.CONFIGURABLE,Ir=nr,xr=Sr.enforce,Fr=Sr.get,Mr=Object.defineProperty,kr=Er&&!Or((function(){return 8!==Mr((function(){}),"length",{value:8}).length})),Ar=String(String).split("String"),Dr=Wn.exports=function(t,n,r){"Symbol("===String(n).slice(0,7)&&(n="["+String(n).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!Pr(t,"name")||Tr&&t.name!==n)&&(Er?Mr(t,"name",{value:n,configurable:!0}):t.name=n),kr&&r&&Pr(r,"arity")&&t.length!==r.arity&&Mr(t,"length",{value:r.arity});try{r&&Pr(r,"constructor")&&r.constructor?Er&&Mr(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var e=xr(t);return Pr(e,"source")||(e.source=Ar.join("string"==typeof n?n:"")),t};Function.prototype.toString=Dr((function(){return jr(this)&&Fr(this).source||Ir(this)}),"toString");var Cr=H,Lr=Sn,_r=Hn,Nr=Et,$r={},zr=Math.ceil,Rr=Math.floor,Hr=Math.trunc||function(t){var n=+t;return(n>0?Rr:zr)(n)},Wr=function(t){var n=+t;return n!=n||0===n?0:Hr(n)},Gr=Wr,Br=Math.max,Ur=Math.min,Vr=Wr,qr=Math.min,Jr=function(t){return t>0?qr(Vr(t),9007199254740991):0},Kr=function(t){return Jr(t.length)},Xr=N,Yr=function(t,n){var r=Gr(t);return r<0?Br(r+n,0):Ur(r,n)},Qr=Kr,Zr=function(t){return function(n,r,e){var o,i=Xr(n),u=Qr(i),c=Yr(e,u);if(t&&r!=r){for(;u>c;)if((o=i[c++])!=o)return!0}else for(;u>c;c++)if((t||c in i)&&i[c]===r)return t||c||0;return!t&&-1}},te={includes:Zr(!0),indexOf:Zr(!1)},ne=Lt,re=N,ee=te.indexOf,oe=cr,ie=S([].push),ue=function(t,n){var r,e=re(t),o=0,i=[];for(r in e)!ne(oe,r)&&ne(e,r)&&ie(i,r);for(;n.length>o;)ne(e,r=n[o++])&&(~ee(i,r)||ie(i,r));return i},ce=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype");$r.f=Object.getOwnPropertyNames||function(t){return ue(t,ce)};var ae={};ae.f=Object.getOwnPropertySymbols;var fe=J,le=$r,se=ae,pe=Tn,ye=S([].concat),he=fe("Reflect","ownKeys")||function(t){var n=le.f(pe(t)),r=se.f;return r?ye(n,r(t)):n},ge=Lt,be=he,de=e,ve=Sn,me=o,we=H,Se=/#|\.prototype\./,Oe=function(t,n){var r=Pe[je(t)];return r==Te||r!=Ee&&(we(n)?me(n):!!n)},je=Oe.normalize=function(t){return String(t).replace(Se,".").toLowerCase()},Pe=Oe.data={},Ee=Oe.NATIVE="N",Te=Oe.POLYFILL="P",Ie=Oe,xe=r,Fe=e.f,Me=Rn,ke=function(t,n,r,e){e||(e={});var o=e.enumerable,i=void 0!==e.name?e.name:n;if(Cr(r)&&_r(r,i,e),e.global)o?t[n]=r:Nr(n,r);else{try{e.unsafe?t[n]&&(o=!0):delete t[n]}catch(t){}o?t[n]=r:Lr.f(t,n,{value:r,enumerable:!1,configurable:!e.nonConfigurable,writable:!e.nonWritable})}return t},Ae=Et,De=function(t,n,r){for(var e=be(n),o=ve.f,i=de.f,u=0;u<e.length;u++){var c=e[u];ge(t,c)||r&&ge(r,c)||o(t,c,i(n,c))}},Ce=Ie,Le=E,_e=i,Ne=Array.isArray||function(t){return"Array"==Le(t)},$e=TypeError,ze=Object.getOwnPropertyDescriptor,Re=_e&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),He=TypeError,We=function(t,n){var r,e,o,i,u,c=t.target,a=t.global,f=t.stat;if(r=a?xe:f?xe[c]||Ae(c,{}):(xe[c]||{}).prototype)for(e in n){if(i=n[e],o=t.dontCallGetSet?(u=Fe(r,e))&&u.value:r[e],!Ce(a?e:c+(f?".":"#")+e,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;De(i,o)}(t.sham||o&&o.sham)&&Me(i,"sham",!0),ke(r,e,i,t)}},Ge=At,Be=Kr,Ue=Re?function(t,n){if(Ne(t)&&!ze(t,"length").writable)throw $e("Cannot set read only .length");return t.length=n}:function(t,n){return t.length=n},Ve=function(t){if(t>9007199254740991)throw He("Maximum allowed index exceeded");return t},qe=o((function(){return 4294967297!==[].push.call({length:4294967296},1)})),Je=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();We({target:"Array",proto:!0,arity:1,forced:qe||Je},{push:function(t){var n=Ge(this),r=Be(n),e=arguments.length;Ve(r+e);for(var o=0;o<e;o++)n[r]=arguments[o],r++;return Ue(n,r),r}});var Ke={name:"plugin-auto-install",factory:t=>{const n=t("child_process"),r=t("crypto"),e=t("fs"),o=t("path"),i=`plugin-auto-install v${process.env.VERSION}`;let u=!1,c="";function a(t){try{const n=r.createHash("sha256"),i=o.join(t.cwd,"yarn.lock");e.statSync(i,{throwIfNoEntry:!1})&&n.update(e.readFileSync(i,"utf8"));for(const r of t.workspaces.map((t=>t.cwd)).sort()){const t=o.join(r,"package.json"),i=JSON.parse(e.readFileSync(t,"utf8")),u=Object.keys(i).filter((t=>t.endsWith("ependencies"))),c=[];for(const t of u)c.push(...Object.entries(i[t]).map((([t,n])=>`${t}: ${n}`)));n.update(c.sort().join(","))}return n.digest("hex")}catch{}}function f(t){try{const n=s(t);return e.readFileSync(o.join(n,"hash"),"utf8")}catch{}}function l(t,n){if(!t||t===c)return!1;try{const r=s(n);e.mkdirSync(r,{recursive:!0}),e.writeFileSync(o.join(r,"hash"),t),e.writeFileSync(o.join(r,".gitignore"),".gitignore\nhash"),console.info(`${i} updated dependency hash: ${t}`),c=t}catch{}return!0}function s(t){return o.join(t.cwd,".yarn","plugins","plugin-auto-install")}return{hooks:{validateProject(t){u=!0;const n=a(t);n&&n===f(t)||l(n,t)},afterAllInstalled(t){u=!1;const n=a(t);n&&n===f(t)||l(n,t)},async wrapScriptExecution(t,r,e,o,c){if(u)return t;try{const e=a(r);if(e&&e===f(r))return t;if(!l(e,r))return t;console.info(`${i} is running 'yarn install' due to dependency changes.`),n.spawnSync("yarn",["install"],{cwd:c.cwd,env:c.env}),console.info(`${i} finished 'yarn install'.`);const u=n.spawnSync("yarn",[o,...c.args],{cwd:c.cwd,env:c.env,stdio:"inherit",shell:!0});return async()=>u.status||0}catch{}return t}}}}};module.exports=Ke;
//# sourceMappingURL=index.min.cjs.map
